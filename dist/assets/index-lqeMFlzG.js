(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();const initSubscriptions=function(t){for(let e of["__propSubscriptions__"])t.hasOwnProperty(e)||(t[e]={});t.__propSubscribe__=(e,r)=>{t.__propSubscriptions__.hasOwnProperty(e)||(t.__propSubscriptions__[e]=[]),t.__propSubscriptions__[e].push(r)},t.__initialSubscriptionCallback=function(){Object.keys(t.__propSubscriptions__).forEach(e=>{t.__propSubscriptions__[e].map(r=>r())})}},connectAttributes=function(t,e){(t.__config__.map.operations||[]).forEach(n=>{n.setup(t,e,n)}),t.__config__.map.text.forEach(n=>{n.setup(t,e,n),n.callback(t,e)}),t.__config__.map.events.forEach(n=>{n.setup(t,e,n),n.callback(t,e)})},connectController=function(t,e){for(let r of t.__config__.props)e.parentElement.__defineGetter__(r,function(){return e.parentElement.setAttribute(r,e.__scope__[r]),e.__scope__[r]}),e.parentElement.__defineSetter__(r,function(i){return e.__scope__[r]=i,e.parentElement.setAttribute(r,i),!0});for(let r of e.parentElement.__methods__)!e[r]&&typeof e.parentElement[r]=="function"&&(e[r]=e.parentElement[r].bind(e))},operationQuery={queryEnd:"){",leftSearch:"{",rightSearch:"}"},ruleSet={expression:{leftSearch:"{{",rightSearch:"}}"},bind:"*",event:{leftSearch:" ",rule:'="{',rightSearch:'}"',exclude:"{{"},customEvent:{leftSearch:" (",rule:')="{',rightSearch:'}"'},operation:{if:{operation:"if",queryStart:"@if(",...operationQuery},for:{operation:"for",queryStart:"@for(",...operationQuery}},cleanup:"$$__pihh__3,14__$$"},output=function(t=!1,e="",r={}){return{success:t,message:e,data:r}},filterStack=(t,e="{{",r="}}")=>{let i=t.indexOf(e),o=output(!1,"No ocorrences",{}),n=i,s=1;if(i>-1)for(let c=Math.max(i+e.length+1,i+r.length+1);c<t.length;c++){let l=t.substring(c,c-e.length),f=t.substring(c,c-r.length);if(l==e?s++:f==r&&s--,s==0){o.success=!0,n=c-r.length,o.data={start:i,end:n,expression:t.slice(i+1,n),search:t},o.message="Found a successfull match";break}}return o},capitalizeFirstLetter=t=>t.charAt(0).toUpperCase()+t.slice(1),lowerCaseFirstLetter=t=>t.charAt(0).toLowerCase()+t.slice(1),replaceAll=function(t,e=[]){for(let r of e){let i=r[0],o=r[1];t=t.replaceAll(i,o)}return t},separateAll=function(t,e=[],r=" "){for(let i of e)t=t.replaceAll(i,r);return t},isChar=function(t){return t.toUpperCase()!=t.toLowerCase()},validateProp=function(t,e){return t=replaceAll(t,[["[","."],["]","."]]),t=separateAll(t,["!","<",">","?",":","+","-","="],"."),t=t.split(".").map(r=>r.trim()).filter(r=>r.length>0).filter(r=>r.indexOf(e)>-1),t.includes(e)},extractPath=function(t,e){let r="__&&__";t=replaceAll(t,[["[",".["],["]","]."]]).replaceAll("..","."),t=separateAll(t,["!","<",">","?",":","+","-","=","*","/","%","'",'"',"`","}","{",")","("],r).split(" ").map(l=>l.trim()).join(".").split(".");let i=t.indexOf(e),o=e;for(let l=i+1;l<t.length;l++){let f=t[l];if(f.indexOf(r)>-1||f==" ")break;o+="."+f}let n="expression";o.indexOf(r)>-1&&(o=o.slice(0,o.indexOf(r)),o[0],o[0],n="eval"),o=o.trim().replaceAll(".[","["),o.charAt(o.length-1)=="."&&(o=o.substr(0,o.length-1));let s=o.lastIndexOf("]"),c=o.lastIndexOf(".");return c>-1&&c<o.length-1&&(isChar(o[c+1])||(o=o.slice(0,c))),s>-1&&s<o.length-1&&!isChar(o[s+1])&&o.charAt(s+1)!=="."&&(o=o.slice(0,s)),{path:o,evaluation:n}},findProps=function(t,e=[]){let r=[];for(let i of e)validateProp(t,i)&&r.indexOf(i)==-1&&r.push(i);return r=r.map(i=>i.trim()).filter(i=>i.length>0).map(i=>extractPath(t,i)),r},pathName=function(t){return Array.isArray(t)||(t=t.replaceAll("[","."),t=t.split(".").map(e=>e.replaceAll("]","").replaceAll(".","").trim())),t=t.join("."),t};function _defineProperty$2(t,e,r){return e=_toPropertyKey$2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey$2(t){var e=_toPrimitive$2(t,"string");return typeof e=="symbol"?e:String(e)}function _toPrimitive$2(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class PubSub{constructor(){_defineProperty$2(this,"events",{}),_defineProperty$2(this,"prevValues",{}),_defineProperty$2(this,"trackTimeout",void 0)}subscribe(e,r){return e=pathName(e),this.events[e]||(this.events[e]=[],this.prevValues[e]=void 0),this.events[e].push(r),(()=>{let o=!0;return{event:e,callback:r,render:()=>{if(o&&this.events[e])for(let n of this.events[e])n()},unsubscribe:()=>{o&&(o=!1,this.events[e]&&(this.events[e]=this.events[e].filter(n=>n!==r)))}}})()}publish(e,r){this.events[e]&&this.events[e].forEach(i=>i(r))}unsubscribe(e){console.log("@TODO unsubscribe")}track(){clearTimeout(this.trackTimeout),this.trackTimeout=setTimeout(()=>{console.log("---------------------------"),console.log("Subscription tracking".toUpperCase()),console.log("---------------------------");let e=0;for(let r of Object.keys(this.events)){let i=this.events[r].length;console.log("Sub:",r,i),e+=i}console.log(""),console.log("TOTAL: ",e+" active subscriptions"),console.log("-------------------------------------")},100)}}class ProxyMembrane{constructor(e,r){return this._preproxy=new WeakMap,this._handler=r,this.proxify(e,[])}makeHandler(e){let r=this;return{get(i,o,n){return r._handler.get?r._handler.get(i,[...e,o],n):i[o]},set(i,o,n,s){return typeof n=="object"&&(n=r.proxify(n,[...e,o])),i[o]=n,r._handler.set&&r._handler.set(i,[...e,o],n,s),!0},deleteProperty(i,o){if(Reflect.has(i,o)){r.unproxy(i,o);let n=Reflect.deleteProperty(i,o);return n&&r._handler.deleteProperty&&r._handler.deleteProperty(i,[...e,o]),n}return!1}}}unproxy(e,r){this._preproxy.has(e[r])&&(e[r]=this._preproxy.get(e[r]),this._preproxy.delete(e[r]));for(let i of Object.keys(e[r]))typeof e[r][i]=="object"&&this.unproxy(e[r],i)}proxify(e,r){for(let o of Object.keys(e))typeof e[o]=="object"&&(e[o]=this.proxify(e[o],[...r,o]));let i=new Proxy(e,this.makeHandler(r));return this._preproxy.set(i,e),i}}const Reactive=function(t){const e=new PubSub;return t=new ProxyMembrane(t,{set(o,n,s,c){try{let l=pathName(n),f=typeof o[l];return l.indexOf("__")==0||(f!=="object"||Array.isArray(o[l]))&&e.publish(pathName(n),s),!0}catch(l){console.warn(l),console.log(n,pathName(n),s)}},deleteProperty(o,n){},getPath(o,n){console.log("getPath",n.split("."),o)}}),[t,function(o,n){return e.subscribe(pathName(o),n)},function(){for(let o of Object.keys(e.events))e.publish(o)},e]},State=function(t={}){let[e,r,i]=Reactive(t);return{scope:e,connect:r,render:i}},connectGetterSetterAttributes=function(t,e){const r=t.__config__.props;for(let i of r)e.__defineGetter__(i,function(){return e.__scope__[i]}),e.__defineSetter__(i,function(o){return e.__scope__[i]=o,!0})},connectReactivity=function(t,e){const{scope:r,connect:i,render:o}=State(Object.assign({},t.scope));e.__scope__=r,e.__connection__=i,e.__render__=o,e.parentElement.__scope__=e.__scope__,e.parentElement.__connection__=e.__connection__,e.parentElement.__render__=e.__render__,connectGetterSetterAttributes(t,e),initSubscriptions(e),connectAttributes(t,e),connectController(t,e)},Connect=function(t,e){(!e||!e.__connected__)&&(e.innerHTML||(e.innerHTML=t.__config__.template),connectReactivity(t,e),e.__connected__=!0),e.__render__()};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lib={},getSelectorPath={},trim={exports:{}};(function(t,e){e=t.exports=r;function r(i){return i.replace(/^\s*|\s*$/g,"")}e.left=function(i){return i.replace(/^\s*/,"")},e.right=function(i){return i.replace(/\s*$/,"")}})(trim,trim.exports);var trimExports=trim.exports,utils={},childHelper={};Object.defineProperty(childHelper,"__esModule",{value:!0});childHelper.findChildWithSameTag=(t,e)=>Array.from(t.childNodes).filter(o=>o.tagName&&o.tagName.toLowerCase()===e);(function(t){function e(r){for(var i in r)t.hasOwnProperty(i)||(t[i]=r[i])}Object.defineProperty(t,"__esModule",{value:!0}),e(childHelper)})(utils);(function(t){var e=commonjsGlobal&&commonjsGlobal.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0});const r=e(trimExports),i=utils,o=c=>{const l=c.split(/\s/g),f=[];for(let p=0;p<l.length;++p)l[p].length>0&&f.push(`.${l[p]}`);return f.join("")},n=c=>{let l=0;const f=c.parentNode.childNodes;let p=0;for(;p<f.length;++p){const a=f[p];if(a.nodeType===1&&++l,a===c)return l}},s=(c,l={},f=[])=>{const p=c.tagName.toLowerCase(),a=[p],u=c.getAttribute("class"),d=c.getAttribute("id"),{rootNode:_,useClassName:h,useNodeId:b}=l;return d&&b?(f.unshift(p+"#"+r.default(d)),f):(u&&h&&a.push(o(u)),p!=="html"&&p!=="body"&&c.parentNode&&i.findChildWithSameTag(c.parentNode,p).length>1&&a.push(":nth-child("+n(c)+")"),f.unshift(a.join("")),c.parentNode&&c.parentNode!==_&&c.parentNode.tagName&&s(c.parentNode,l,f),f)};t.getSelectorPath=(c,l={})=>l.minify?s(c,l,[]).join(">"):s(c,l,[]).join(" > "),t.default=t.getSelectorPath})(getSelectorPath);(function(t){function e(r){for(var i in r)t.hasOwnProperty(i)||(t[i]=r[i])}Object.defineProperty(t,"__esModule",{value:!0}),e(getSelectorPath)})(lib);const expressionCallback=function(t,e,r="string"){const i=Function("return `"+e+"`");try{r=typeof i.call(t)}catch(o){console.info({instance:t,expression:e,datatype:r}),console.log(e,t),console.warn(o)}return i.call(t)},actionCallback=function(instance,expression,args){const fn=eval("()=>{let args = [...arguments]; console.log(args); let self = args[0]; let action=args[1]; self[action](...[args.slice(2)])}");return function(){console.log("a","b",...arguments,instance),fn.bind(instance.parentElement)(instance.parentElement,expression)}},evaluationCallback=function(t,e,r="string"){const i=Function("return `"+e+"`");try{r=typeof i.call(t)}catch(o){console.info({instance:t,expression:e,datatype:r}),console.warn(o)}return function(){return i.call(t,...arguments)}},setterCallback=function(instance,expression){const fn=eval("(instance,value)=> instance."+expression+" = value");try{let t=typeof Function("return `${this."+expression+"}`").call(instance)}catch(t){console.info({instance,expression}),console.warn(t)}return fn},getterCallback=function(instance,expression){const fn=eval("(instance) => instance."+expression);return fn},setupInputConnection=function(t,e,r,i={}){e.hasOwnProperty(i.__symbol__)||(e[i.__symbol__]=!0,t=t.parentElement||t,r=r.trim(),i.eventListenerCallback(t,e,r),i.valueListenerCallback(t,e,r))},validateEventListenerCallback=function(t,e,r,i){let o=e(t);r!=o&&r!=null&&i(r)},inputConnectionConfig={event:"input",value:"",__symbol__:Symbol("TheInputConnection"),eventListenerCallback:function(t,e,r){const i=e.getAttribute("type")||"text";let o=setterCallback(t,r),n=getterCallback(t,r);i=="text"?e.addEventListener("input",function(s){validateEventListenerCallback(t,n,s.target.value,function(c){o(t,c)})}):i=="number"?e.addEventListener("input",function(s){validateEventListenerCallback(t,n,s.target.value,function(c){o(t,c)})}):i=="checkbox"&&e.addEventListener("change",function(s){typeof s=="object"&&validateEventListenerCallback(t,n,s.target.checked,function(c){o(t,["true",!0].indexOf(c)>-1)})})},valueListenerCallback:function(t,e,r){let i=getterCallback(t,r);const o=function(n){n=n||i(t),e.getAttribute("value")!==n&&n!==void 0&&e.setAttribute("value",n)};t.__connection__(r,o),o(i(t))},setup:function(t,e,r){setupInputConnection(t,e,r,this)}},selectConnectionConfig={event:"change",__symbol__:Symbol("TheSelectConnection"),eventListenerCallback:function(t,e,r){let i=setterCallback(t,r),o=getterCallback(t,r);e.addEventListener("change",function(n){validateEventListenerCallback(t,o,n.target.value,function(s){i(t,s)})})},valueListenerCallback:function(t,e,r){let i=getterCallback(t,r);const o=function(n){n=n||i(t),e.getAttribute("value")!==n&&n!==void 0&&[...e.querySelectorAll("option")].map(c=>{c.getAttribute("value")==n?c.setAttribute("selected",!0):c.removeAttribute("selected")})};t.__connection__(r,o),o(i(t))},setup:function(t,e,r){setupInputConnection(t,e,r,this)}},inputEventSetup=function(t,e,r,i={}){inputConnectionConfig.setup(t,e,r)},checkBoxEventSetup=function(t,e,r,i={}){({...inputConnectionConfig,valueListenerCallback:function(n,s,c){let l=getterCallback(n,c);const f=function(p){(typeof p>"u"||p=="undefined")&&(p=l(n)),!(typeof p>"u")&&(["true",!0].indexOf(p)>-1?s.checked=!0:s.checked=!1)};n.__connection__(c,f),f(l(n))}}).setup(t,e,r)},selectEventSetup=function(t,e,r,i={}){selectConnectionConfig.setup(t,e,r)};function randomString(t=4){let e="";const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",i=r.length;let o=0;for(;o<t;)e+=r.charAt(Math.floor(Math.random()*i)),o+=1;return e.toLowerCase()}const generateRandomDatasetAttribute=function(){let t=randomString(7),e=randomString(7),r=t+"-"+e,i="data-"+r+'="true"';return{directive:" "+i+" ".replaceAll("'",""),uuid:r,selector:`[${i}]`,path:lowerCaseFirstLetter(t)+capitalizeFirstLetter(e)}};function getClone(t,e){return t.querySelector(e.dataset.selector)}function setupCleanup(t,e,r){delete e.dataset[r.dataset.path]}const attributeOutput=function(t,e,r,i,o){let n=r.split("{{").filter(a=>a.indexOf("}}")>-1).map(a=>a.trim()).map(a=>a.split("}}")[0]),s=r,c=[];for(let a of n){c=c.concat(findProps(a,i));for(let u of c)s=s.replaceAll(u.path,"this."+u.path).replaceAll(".this.",".").replaceAll(".this[","[").replaceAll(".this.","").replaceAll("this.this.","this."),s.indexOf("this.")==-1&&(s="{{this."+u.path+"}}")}s=s.replaceAll("{{","${").replaceAll("}}","}");let l={type:t,attributeName:e,value:r,props:i,dataset:o,paths:c,expression:s},f=function(){},p=function(a,u,d){let _=function(){},h=getClone(u,l);if(l.type=="text"){let b=h;h=h.childNodes[l.attributeName];for(let v of c){const m=Function("return `"+l.expression+"`");let y=function(){h.textContent=m.call(u)};u.__connection__(v.path,y),y()}delete b.dataset[l.dataset.path]}else if(l.type=="reference"){let b=getClone(u,l);b.__reference__=u.parentElement||u,b.removeAttribute("*ref"),setupCleanup(u,b,l)}else if(l.type=="model"){if(h.nodeName=="INPUT"){let b=getClone(u,l);b.getAttribute("type")=="checkbox"?checkBoxEventSetup(u,b,s):inputEventSetup(u,b,l.value)}else if(h.nodeName==="SELECT"){let b=getClone(u,l);selectEventSetup(u,b,s)}setupCleanup(u,h,l),h.removeAttribute("*bind")}else{for(let b of c){if(b.evaluation=="eval"){let v=evaluationCallback(u,l.expression);b.path=b.path.replace("counterUpdating.","").replaceAll("this.",""),_=function(){let m=v();h.setAttribute(l.attributeName,m)}}else _=function(){h.setAttribute(l.attributeName,expressionCallback(u,l.expression))};u.__connection__(b.path.replace("couterUpdating.",""),_),_()}delete h.dataset[l.dataset.path]}};return l.setup=p,l.callback=f,l},inspectAttributes=function(t,e={}){const r=ruleSet.expression.leftSearch,i=ruleSet.expression.rightSearch,o=Object.keys(e);let n=output();n.data={template:t,expressions:[]};const s=function(c){return[...new Set(c.split(r).map(l=>l.trim()).filter(l=>l.indexOf(i)>0).map(l=>l.split(i)[0]))]};for(let c of[...t.querySelectorAll("*")]){for(let f of c.getAttributeNames()){let p=c.getAttribute(f),a=s(p);if(a.length>0){if(a.length>1)debugger;n.success=!0;let u=generateRandomDatasetAttribute();c.dataset[u.path]=!0,n.data.expressions.push(attributeOutput("attribute",f,p,o,u))}if(f.indexOf("*")>-1){n.success=!0;let u=generateRandomDatasetAttribute();c.dataset[u.path]=!0,f==="*ref"?n.data.expressions.push(attributeOutput("reference",f,p,o,u)):n.data.expressions.push(attributeOutput("model",f,p,o,u))}}let l=0;for(let f of c.childNodes){if(f.nodeType==3){let p=f.textContent;if(s(p).length>0){n.success=!0;let u=generateRandomDatasetAttribute();c.dataset[u.path]=!0,n.data.expressions.push(attributeOutput("text",l,p,o,u))}}l++}}return n},compileRules={whileLoop:{maxLoops:100,monitor(t=100){let e=0;return t=100,t=Math.abs(t+1),()=>{if(e++,e>t)throw console.log(e),new Error("Too many loops")}}}},eventOutput=function(t,e,r,i,o,n){let s={eventName:t,eventType:e,eventArguments:r,originalExpression:i,parsedExpression:o,dataset:n};return s.setup=function(c,l,f){let p=l.querySelector(s.dataset.selector);const a=l.parentElement&&typeof l.parentElement[o]=="function"?l.parentElement:l;let u=actionCallback(a,o);"touchstart"in window?p.addEventListener("touchstart",u):p.addEventListener("click",u),delete l.dataset[s.dataset.path]},s.callback=function(){},s},inspectEvents=function(t,e={}){const r=ruleSet.event.rule,i=ruleSet.event.leftSearch,o=ruleSet.event.rightSearch;let n=output(),s,c;n.data={template:t,expressions:[]};const l=function(a){let u=a.split(r),d=[];if(u.length>1)for(let _=1;_<u.length;_++){let h=u[_-1],b=u[_];if(b.charAt(0)!="{"){d.push(h),d.push(b);break}}return d};let f=compileRules.whileLoop.monitor(3),p=l(t);for(;p.length>0;){f();let a=p[0],u=p[1].trim(),d,_=generateRandomDatasetAttribute(),h;s=a.split(i),s=s[s.length-1],c=filterStack("{"+u,"{",o),d=i+s+r+c.data.expression+o,t=t.replace(d,_.directive),h=eventOutput(s,"native",[],d,c.data.expression,_),n.success=!0,n.message="found ocurrences",n.data.template=t,n.data.expressions.push(h),p=l(t)}return n},inspectCustomEvents=function(t,e={}){const r=ruleSet.customEvent.rule,i=ruleSet.customEvent.leftSearch,o=ruleSet.customEvent.rightSearch;let n,s,c=output(),l=t.split(r),f=compileRules.whileLoop.monitor(3);for(c.data={template:t,expressions:[]};l.length>1;){f();let p=l[0],a=l[1].trim(),u,d=generateRandomDatasetAttribute(),_;n=p.split(i),n=n[n.length-1],s=filterStack("{"+a,"{",o),u=i+n+r+s.data.expression+o,t=t.replace(u,d.directive),_=eventOutput(n,"custom",[],u,s.data.expression,d),c.success=!0,c.message="found ocurrences",c.data.template=t,c.data.expressions.push(_),l=t.split(r)}return c},setupIfOperation=function(t,e={},r){return{...ruleSet.operation.if,monitor:compileRules.whileLoop.monitor(100),getOcorrences(){},success(){},cleanup(){}}},setupForOperation=function(t,e={},r){return{...ruleSet.operation.for,monitor:compileRules.whileLoop.monitor(100),getOcorrences(){},success(){},cleanup(){}}},operationOutput=function(t,e,r,i,o){const n={operation:t,operationArguments:e,originalExpression:r,parsedExpression:i,dataset:o};let s=function(){},c=function(l,f,p){getClone(f,n);let a=f.parentElement||f;if(n.operation==="if"){const u=i,d=a.querySelector(o.selector),_=document.createComment("if operation placeholder");_.__connected__=!0,_.controller=a;const h=[...d.childNodes].map(m=>(m.__comment__=_,m.controller=a,m));d.before(_),d.before(_),h.forEach(m=>_.after(m));let b=getterCallback(a,u);const v=function(m){(typeof m>"u"||m=="undefined")&&(m=b(a)),!(typeof m>"u")&&(["true",!0].indexOf(m)>-1?h.forEach(y=>{_.after(y)}):h.forEach(y=>{y.remove()}))};a.__connection__(u,v)}else{const u=a.querySelector(o.selector),d=document.createComment("for operation placeholder");d.__connected__=!0,d.controller=a;const _=[...u.childNodes].map(h=>(h.__comment__=d,h.controller=a,h));d.$content=_,u.before(d),u.before(d),_.forEach(h=>d.after(h)),u.replaceWith(d),console.log(d),d.generate=function(h){d.$content.forEach(b=>{temp1.after(b.cloneNode(!0))})}}};return n.setup=c,n.callback=s,n},extractOcorrence=function(t,e){e.monitor();let r=t.split(e.queryStart),i=output();if(i.data={operation:e,query:"",template:""},r.length>1){let o=r[0],n=r.slice(1);n=n.join(e.queryStart);let s=n.split("){")[0].replace("(","").trim();n=n.split("){"),n=n.slice(1),n=n.join("){"),n.charAt(0)!="{"&&(n="{"+n);let c=e.operation;if(c=="for")try{let f=s.split(";").map(p=>(p=" "+p+" ",p=p.replaceAll(" let ",""),p=p.replaceAll(" const ",""),p.trim())).filter(p=>p.length>0);s={query:s,queryParts:f,indexKey:"__$$index_"+parseInt(Math.random()*1e4)+"$$__",sourceKey:"",maskKey:"",reference:""};for(let p of f){let a=p.indexOf(" of ")>-1?" of ":"=",u=p.split(a)[0].trim(),d=p.split(a)[1].trim();a=="="?s.indexKey=d:(s.sourceKey=d.replaceAll("this.","").trim(),s.maskKey=u.replaceAll("mask.","").trim())}console.log({query:s})}catch(f){console.warn(f)}let l=filterStack(n,"{","}");c=="for"&&(l.data.expression=l.data.expression.replaceAll("{{"+s.maskKey+"}}","{{this."+s.sourceKey+"["+s.indexKey+"]}}"),s.setup=function(f,p,a){p.instance=f,p.instance[a.indexKey]=0}),i=output(!0,"Found ocorrences",{left:o,right:n.slice(1+l.data.end),query:s,search:r,replacement:l.data.expression,ocorrences:l,operation:e})}return i},getOcorrences=function(t,e,r){let i=t.indexOf(e.queryStart),o=t.indexOf(r.queryStart),n=output();return i==-1&&o==-1||(i==-1?n=extractOcorrence(t,r):o==-1||i>o?n=extractOcorrence(t,e):o>i&&(n=extractOcorrence(t,r))),n},inspectOperations=function(t,e={}){let r=output(),i=setupIfOperation(t,e),o=setupForOperation(t,e),n=getOcorrences(t,i,o);for(r.data={template:t,expressions:[]};n.success;){let s=n.data.left,c=generateRandomDatasetAttribute();t=s+"<option "+c.directive+">"+n.data.replacement+"</option>"+n.data.right,r.success=!0,r.data.template=t,r.data.expressions.push(operationOutput(n.data.operation.operation,n,n.data.replacement,n.data.query,c)),n=getOcorrences(t,i,o)}return r},mapDom=function(t,e={}){const r={customEvents:[],events:[],text:[]},i={map:r,template:t,props:Object.keys(e),scope:e};[t].concat([...t.querySelectorAll("*")]);const o=document.createElement("div");o.appendChild(t);let n=o.innerHTML,s=inspectCustomEvents(n,e);s.success&&(r.customEvents=s.data.expressions,n=s.data.template);let c=inspectEvents(n,e);c.success&&(r.events=c.data.expressions,n=c.data.template);let l=inspectOperations(n,e);l.success&&(r.operations=l.data.expressions,n=l.data.template),o.innerHTML=n;let f=inspectAttributes(o,e);return f.success&&(r.text=f.data.expressions),t=o.firstElementChild,i.map=r,i.template=t.innerHTML,i};function _defineProperty$1(t,e,r){return e=_toPropertyKey$1(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey$1(t){var e=_toPrimitive$1(t,"string");return typeof e=="symbol"?e:String(e)}function _toPrimitive$1(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class TemplateRegistry{constructor(){_defineProperty$1(this,"store",{})}register(e){const r=e.node.cloneNode(!1);let i=e.__name__;return this.store.hasOwnProperty(i)||(r.innerHTML=e.html,this.store[i]=mapDom(r,e.scope),e.__config__=this.store[i]),r.innerHTML=e.__config__.template,r}load(e){return this.store[e]}}const TemplateRegistry$1=new TemplateRegistry,Template=function(t,e={},r){r=r||document.querySelector(t),this.__name__=t,this.node=r,this.html=r.innerHTML,this.scope=e.values,this.scopeMap=e,this.compile()};Template.prototype.compile=function(){TemplateRegistry$1.register(this)};Template.prototype.boot=function(t){Connect(this,t)};Template.prototype.clone=function t(e={},r=null){return e={...this.scope||{},...e},new TemplateClone(this,e,r)};const TemplateClone=function(t,e={},r=!1){return this.template=t,this.scope=e,this.node=t.node.cloneNode(!1),t.compile(),this.append(r)};TemplateClone.prototype.update=function t(e={}){e={...this.scope,...e},this.scope=e,this.node.innerHTML=this.template.html.replace(/\{\s*(\w+)\s*\}/g,function(r,i){var o=e[i];return o===void 0?"{"+i+"}":o})};TemplateClone.prototype.append=function t(e){return e=e||this.template.parent,e.appendChild(this.node),this.template.boot(this.node),this.node};function _defineProperty(t,e,r){return e=_toPropertyKey(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return typeof e=="symbol"?e:String(e)}function _toPrimitive(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const $head=document.head,BaseController=function(t,e){return new Promise(async(r,i)=>{let n=await(await fetch(t.template.url)).text(),s=document.createElement("template"),c=document.createElement("div");s.content.appendChild(c),c.innerHTML=n,$head.appendChild(s);const l=new Template(t.selector,e,s.content.firstElementChild.firstElementChild.cloneNode(!0));s.remove(),r(l)})};function Component(t={}){return function(e){let r;const i=Object.getOwnPropertyNames(e.prototype).filter(n=>["constructor","length","prototype","observedAttributes","observedAttributeTypes","observedAttrbuteValues"].indexOf(n)==-1);if(!r){const n={values:e.prototype.observedAttributeValues,types:e.prototype.observedAttributeTypes};r=BaseController(t,n)}class o extends e{constructor(){super(),_defineProperty(this,"__instanciated__",!1),_defineProperty(this,"__methods__",i),this.slotContent=this.innerHTML,this.innerHTML="",this.baseController=r,this.baseController.then(s=>{this.__init__(s)})}__init__(s){if(this.isConnected&&!this.__instanciated__){const c={},f=this.getAttributeNames().filter(a=>a.indexOf("*")==0).filter(a=>a!=="*ref").map(a=>({key:a,value:this.getAttribute(a)}));f.forEach(a=>this.removeAttribute(a));for(let a of this.getAttributeNames())c[a]=this.getAttribute(a),a.indexOf("*")==1;this.template=s.clone(c,this),this.__instanciated__=!0;for(let a of Object.keys(c))this[a]=c[a];for(let a of Object.keys(f)){const u=f[a].value,d=f[a].key.replace("*",""),_=()=>{this.__reference__[u]!=this[d]&&(this[d]=this.__reference__[u])};this.removeAttribute("*"+d);const h=()=>{this.__reference__[u]!=this[d]&&(this.__reference__[u]=this[d])};this.__connection__(d,h),this.__reference__.__connection__(u,_),_(),h()}this.style.visibility="initial",delete this.style.visibility;const p=[...this.querySelectorAll("slot")];if(this.slotContent&&p){const a={};p.forEach(d=>{let _=d.getAttribute("name")||"main";a[_]=d}),a.main.innerHTML=this.slotContent,[...a.main.querySelectorAll("[slot]")].forEach(d=>{let _=d.getAttribute("slot");d.remove(),a[_].appendChild(d)})}}}connectedCallback(){this.__instanciated__?super.connectedCallback():this.baseController.then(s=>{this.__init__(s),super.connectedCallback&&super.connectedCallback()})}}return customElements.get(t.selector)||customElements.define(t.selector,o),o}}const validateObservedAttributes=function(t){return t.constructor.observedAttributes||(t.constructor.prototype.observedAttributes=[],t.constructor.observedAttributes=t.constructor.observedAttributes||[]),t.constructor.observedAttributeTypes||(t.constructor.prototype.observedAttributeTypes={},t.constructor.observedAttributeTypes=t.constructor.observedAttributeTypes||{}),t.constructor.observedAttributeValues||(t.constructor.prototype.observedAttributeValues={},t.constructor.observedAttributeValues=t.constructor.observedAttributeValues||{}),t},Prop=function(t){return function(e,r,i){if(e=validateObservedAttributes(e),e.constructor.prototype.observedAttributes.indexOf(r)==-1&&(e.constructor.observedAttributes.push(r),e.constructor.prototype.observedAttributes.push(r)),i[r]=t,!e.constructor.prototype.observedAttributeTypes.hasOwnProperty(r)){let o=i.initializer();o!==void 0&&(e.constructor.prototype.observedAttributeTypes[r]=typeof o,e.constructor.prototype.observedAttributeValues[r]=o)}}};var _dec$3,_dec2$3,_dec3$1,_dec4$1,_dec5,_class$3,_class2$3,_descriptor$3,_descriptor2$1,_descriptor3,_descriptor4,_dec6,_dec7,_dec8,_dec9,_class3$1,_class4,_descriptor5,_descriptor6,_descriptor7,_dec10,_dec11,_dec12,_class5,_class6,_descriptor8,_descriptor9;function _initializerDefineProperty$3(t,e,r,i){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _applyDecoratedDescriptor$3(t,e,r,i,o){var n={};return Object.keys(i).forEach(function(s){n[s]=i[s]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(s,c){return c(t,e,s)||s},n),o&&n.initializer!==void 0&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),n.initializer===void 0&&(Object.defineProperty(t,e,n),n=null),n}_dec$3=Component({selector:"the-text-binding",template:{url:"/the-binding/text.html"}}),_dec2$3=Prop(),_dec3$1=Prop(),_dec4$1=Prop(),_dec5=Prop(),_dec$3(_class$3=(_class2$3=class extends HTMLElement{constructor(){super(),_initializerDefineProperty$3(this,"name",_descriptor$3,this),_initializerDefineProperty$3(this,"description",_descriptor2$1,this),_initializerDefineProperty$3(this,"obj",_descriptor3,this),_initializerDefineProperty$3(this,"list",_descriptor4,this)}},_descriptor$3=_applyDecoratedDescriptor$3(_class2$3.prototype,"name",[_dec2$3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Name property"}}),_descriptor2$1=_applyDecoratedDescriptor$3(_class2$3.prototype,"description",[_dec3$1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Description property"}}),_descriptor3=_applyDecoratedDescriptor$3(_class2$3.prototype,"obj",[_dec4$1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{name:"Obj name property",list:["Obj list 0  property"]}}}),_descriptor4=_applyDecoratedDescriptor$3(_class2$3.prototype,"list",[_dec5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return["List 0 property"]}}),_class2$3));_dec6=Component({selector:"the-checkbox-binding",template:{url:"/the-binding/checkbox.html"}}),_dec7=Prop(),_dec8=Prop(),_dec9=Prop(),_dec6(_class3$1=(_class4=class extends HTMLElement{constructor(){super(),_initializerDefineProperty$3(this,"isChecked",_descriptor5,this),_initializerDefineProperty$3(this,"isShowing",_descriptor6,this),_initializerDefineProperty$3(this,"isTextOne",_descriptor7,this)}onCheckboxClick(){alert("Esta n√£o faz nada !")}},_descriptor5=_applyDecoratedDescriptor$3(_class4.prototype,"isChecked",[_dec7],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_descriptor6=_applyDecoratedDescriptor$3(_class4.prototype,"isShowing",[_dec8],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_descriptor7=_applyDecoratedDescriptor$3(_class4.prototype,"isTextOne",[_dec9],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_class4));_dec10=Component({selector:"the-select-binding",template:{url:"/the-binding/select.html"}}),_dec11=Prop(),_dec12=Prop(),_dec10(_class5=(_class6=class extends HTMLElement{constructor(){super(),_initializerDefineProperty$3(this,"color",_descriptor8,this),_initializerDefineProperty$3(this,"colors",_descriptor9,this)}connectedCallback(){}attributeChangedCallback(e,r,i){r!=i&&e=="color"&&this.updateTheme(i)}updateTheme(e){const i=document.body.classList;for(let n of this.colors){const s="theme-"+n;i.contains(s)&&i.remove(s)}const o="theme-"+e;i.add(o)}},_descriptor8=_applyDecoratedDescriptor$3(_class6.prototype,"color",[_dec11],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"white"}}),_descriptor9=_applyDecoratedDescriptor$3(_class6.prototype,"colors",[_dec12],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return["white","blue","red","green","yellow"]}}),_class6));var _dec$2,_dec2$2,_dec3,_class$2,_class2$2,_descriptor$2,_descriptor2,_dec4,_class3;function _initializerDefineProperty$2(t,e,r,i){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _applyDecoratedDescriptor$2(t,e,r,i,o){var n={};return Object.keys(i).forEach(function(s){n[s]=i[s]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(s,c){return c(t,e,s)||s},n),o&&n.initializer!==void 0&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),n.initializer===void 0&&(Object.defineProperty(t,e,n),n=null),n}_dec$2=Component({selector:"the-input",template:{url:"/the-input/template.html"}}),_dec2$2=Prop(),_dec3=Prop(),_dec$2(_class$2=(_class2$2=class extends HTMLElement{constructor(){super(),_initializerDefineProperty$2(this,"label",_descriptor$2,this),_initializerDefineProperty$2(this,"value",_descriptor2,this)}},_descriptor$2=_applyDecoratedDescriptor$2(_class2$2.prototype,"label",[_dec2$2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Input component"}}),_descriptor2=_applyDecoratedDescriptor$2(_class2$2.prototype,"value",[_dec3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Pihh"}}),_class2$2));_dec4=Component({selector:"the-binding-container",template:{url:"/the-binding/container.html"}}),_dec4(_class3=class extends HTMLElement{constructor(){super()}});var _dec$1,_dec2$1,_class$1,_class2$1,_descriptor$1;function _initializerDefineProperty$1(t,e,r,i){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _applyDecoratedDescriptor$1(t,e,r,i,o){var n={};return Object.keys(i).forEach(function(s){n[s]=i[s]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(s,c){return c(t,e,s)||s},n),o&&n.initializer!==void 0&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),n.initializer===void 0&&(Object.defineProperty(t,e,n),n=null),n}_dec$1=Component({selector:"the-counter",template:{url:"/the-counter/template.html"}}),_dec2$1=Prop(),_dec$1(_class$1=(_class2$1=class extends HTMLElement{constructor(){super(),_initializerDefineProperty$1(this,"counter",_descriptor$1,this)}connectedCallback(){this.counter=Number(this.counter)}increment(){this.counter=Number(this.counter)+1}decrement(){this.counter=Math.max(0,Number(this.counter)-1)}},_descriptor$1=_applyDecoratedDescriptor$1(_class2$1.prototype,"counter",[_dec2$1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_class2$1));var _dec,_dec2,_class,_class2,_descriptor;function _initializerDefineProperty(t,e,r,i){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _applyDecoratedDescriptor(t,e,r,i,o){var n={};return Object.keys(i).forEach(function(s){n[s]=i[s]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(s,c){return c(t,e,s)||s},n),o&&n.initializer!==void 0&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),n.initializer===void 0&&(Object.defineProperty(t,e,n),n=null),n}_dec=Component({selector:"the-counter-container",template:{url:"/the-counter/container.html"}}),_dec2=Prop(),_dec(_class=(_class2=class extends HTMLElement{constructor(){super(),_initializerDefineProperty(this,"isShowing",_descriptor,this)}toggle(){this.isShowing=!this.isShowing}},_descriptor=_applyDecoratedDescriptor(_class2.prototype,"isShowing",[_dec2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_class2));
